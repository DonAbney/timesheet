<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <title>Timesheet Update</title>
  <link href="timesheet.min.css" rel="stylesheet" type="text/css"/>
  <script src="timesheet.min.js" type="text/javascript"></script>
  <meta name="google-signin-scope" content="profile email">
  <meta name="google-signin-client_id" content="499658899787-0p682umlf2fjhqdi78jdl5sjp3jcjoer.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js" async defer></script>
</head>

<body>
  <div id="signIn">
    <div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
  </div>

  <div id="errorResponse">
    <h1>Sorry, a problem has occurred...</h1>
    <div class='wrapper-generatedErrorInfo'></div>
  </div>

  <div id="successfulResponse">
    <h1>
      <span class="username">Loading... please wait</span><span class="weekTotal">0</span><span class='stateChangeIndicator' style='display:none'>*</span><span class='validatedIndicator' style='display:none'>&#8224;</span>
    </h1>
    <div class="wrapper-generatedView"></div>
    <div class="buttonArea row expanded">
      <button class="saveChanges small-12 large-4 columns" type="button">Save Changes</button>
      <button class="validateTimesheet small-12 large-4 columns" type="button">Validate Timesheet</button>
    </div>
  </div>
</body>

  <script type="text/javascript">
    function onSignIn(googleUser) {
      var profile = googleUser.getBasicProfile();
      $('#signIn').hide();
      $('.saveChanges').click(TimesheetCommunication.sendSaveTimesheet);
      $('.validateTimesheet').click(TimesheetCommunication.sendValidateTimesheet);
      $(window).resize(TimesheetView.windowSizeChanged);
      TimesheetCommunication.fetchTimesheetInfo(TimesheetUtil.extractUsername(profile.getEmail()), new Date());
    };
  </script>
</html>
